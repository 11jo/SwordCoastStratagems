
DEFINE_ACTION_FUNCTION test BEGIN

ACTION_IF GAME_IS iwdee BEGIN

   /*
   OUTER_SPRINT temples ""
   COPY_EXISTING_REGEXP ".*\.sto" override
      PATCH_IF INDEX_BUFFER ("%CLERIC_RESURRECTION%") >= 0 BEGIN
         SPRINT temples "%temples% %SOURCE_RES%"
      END
   BUT_ONLY
   MAKE_PATCH
      cure=>"%CLERIC_RESTORATION%"
      cure_price=>750
      at_end=>1
   END
   LAF edit_store STR_VAR store="%temples%" editstring="add_cure=>patch_data" END
   */

   /*
   WITH_TRA "%scsroot%/lang/english/difficulty.tra" BEGIN
      LAF include STR_VAR file=difficulty_controls.tpa locbase=lib END
      LAF difficulty_ui END
   END
   */
   ACTION_FOR_EACH input IN true false BEGIN

     OUTER_SPRINT string "createCharScreen:OnThiefSkillPlusMinusButtonClick(chargen.thief_skill\[currentChargenThiefSkill\].id, %input%)"
     OUTER_SPRINT string_new_base "createCharScreen:OnThiefSkillPlusMinusButtonClick(chargen.thief_skill[currentChargenThiefSkill].id, %input%)"
     OUTER_SPRINT string_new "%string_new_base%%WNL%"
     OUTER_FOR (i=0;i<4;i+=1) BEGIN
       OUTER_SPRINT string_new "%string_new%%string_new_base%%WNL%"
     END
     COPY_EXISTING "ui.menu" override
      REPLACE_TEXTUALLY "%string%" "%string_new%"
     BUT_ONLY
   END

END ELSE BEGIN


      LAF run STR_VAR file=difficulty_controls locbase=lib tra=difficulty END






END
END



/* IWD hla fragment:

     COPY_EXISTING lunumab.2da override
        REPLACE_TEXTUALLY 99 2

      LAF read_file_into_array STR_VAR file=ui.menu locabs=override RET_ARRAY ui_array=file_contents END
      LAF read_file_into_array STR_VAR file=extra_hla_button.menu RET_ARRAY insert_array=file_contents END
      LAF read_file_into_array STR_VAR file=new_hla_menu.menu RET_ARRAY replace_array=file_contents END
      LAF UI_insert_into_menu STR_VAR ui_array_in=ui_array insert_array menu_name=LEVELUP_PROFICIENCIES RET_ARRAY ui_array=ui_array_out END
      LAF UI_replace_menu STR_VAR ui_array_in=ui_array replace_array menu_name=CHARGEN_HIGH_LEVEL_ABILITIES RET_ARRAY ui_array=ui_array_out END
      LAF write_array_into_file STR_VAR file="override/ui.menu" file_contents=ui_array END

      COPY_EXISTING "ui.menu" override
         REPLACE_TEXTUALLY "return +63817" "return 34713"
*/
