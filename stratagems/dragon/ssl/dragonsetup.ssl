/////////////////////////////////////////////////////////
/////      Initial material
////////////////////////////////////////////////////////

INCLUDE FILE (%scsroot%\dragon\ssl\rest.ssl)
INCLUDE FILE (%scsroot%\dragon\ssl\gohostile.ssl)


////////////////////////////////////////////////////////////////////////
// Initialise for combat
////////////////////////////////////////////////////////////////////////

IF
	Global("inafight","LOCALS",0)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("inafight","LOCALS",1)
		Continue()
END


//////////////////////////////////////////////////////////////////////
///CPU saver
//////////////////////////////////////////////////////////////////////

IF
	!Detect(NearestEnemyOf(Myself))
	!HPPercentLT(Myself,100)
	!Global("inafight","LOCALS",1)
THEN
	RESPONSE #100
		NoAction()
END

//////////////////////////////////////////////////////////////////////
///Locate party
//////////////////////////////////////////////////////////////////////

IF
        !Detect(NearestEnemyOf(Myself))
        !Detect(Player1)
        !Detect(Player2)
        !Detect(Player3)
        !Detect(Player4)
        !Detect(Player5)
        !Detect(Player6)
        Global("inafight","LOCALS",1)
THEN
    RESPONSE #100
             MoveToObject(Player1)
END


