///////////////////////////////////////////////////////////////////////
/// Long-duration spells
///////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////
//	The point of SCSVAR is that everyone has this script twice -
//	once for if they appear far from their opponents, once for
//	if they appear in sight of them.
////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////////////
///	Armour - level 3+
//////////////////////////////////////////////////////////////////////////////////////////

IF
	Global("longprep","LOCALS",0)
	scsvar
	HaveSpell(WIZARD_ARMOR)
	IgnoreBlock(Galactygon_Armor)
THEN
	RESPONSE #100
		RemoveSpell(WIZARD_ARMOR)
		ApplySpellRES("%WIZARD_ARMOR_PREBUFF%",Myself)
		Continue()
END

IF
	Global("longprep","LOCALS",0)
	scsvar
	RequireBlock(Galactygon_Armor)
THEN
	RESPONSE #100
		ApplySpellRES("%WIZARD_ARMOR_PREBUFF%",Myself)
		Continue()
END


//////////////////////////////////////////////////////////////
/// Stoneskin - level 7+
//////////////////////////////////////////////////////////////

IF
	Global("longprep","LOCALS",0)
	IgnoreBlock(SpellsAreBG1)
	RequireBlock(HasL4)
	scsvar
THEN
	RESPONSE #100
		ApplySpellRES("%WIZARD_STONE_SKIN_PREBUFF%",Myself)
		Continue()
END

